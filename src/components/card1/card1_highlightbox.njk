{# Imports components #}
{% import 'components/img/img.njk' as Img %}
{% import 'components/shapedimg/shapedimg.njk' as ShapedImg %}

{% macro content(obj) %}

  {% set componentClassName = 'c-card1' %}

  {% set configDefault = {
    "className": [],
    "innerWrapperClassName": [],
    "innerClassName": [],
    "contentClassName": [],
    "ctaClassName": ["text-end"]
  }%}

  {% set obj = configDefault | overwriteMerge(obj or {}) %}

  {# Creates new arrays for manipulation) #}
  {% set _className = [componentClassName] | mergeArray(obj.className or configDefault.className) %}
  {% set _innerClassName = [componentClassName + "__inner"] | mergeArray(obj.innerClassName or configDefault.innerClassName) %}
  {% set _contentClassName = [componentClassName + "__contentbox"] | mergeArray(obj.contentClassName or configDefault.contentClassName) %}
  {% set _ctaClassName = [componentClassName + "__content__cta"] | mergeArray(obj.ctaClassName or configDefault.ctaClassName) %}


  <div class="{{_className | join(" ")}}">
     <div class="{{_innerClassName | join(" ")}} {{componentClassName}}__inner--highlight" style="background-image: url('{{obj.imgurl}}'); background-size: cover;">

    {# {% if obj.content.abstract %}

    {% else %}
      <div class="{{_innerClassName | join(" ")}} {{componentClassName}}__inner--highlight mih-highlight-title" style="background-image: url('{{obj.imgurl}}'); background-size: cover;">
    {% endif %} #}

      {# {% if obj.img.isShaped %}
        {{
          ShapedImg.content(obj.img| merge({
            className:[componentClassName + "__cover"]
          }))
        }}
      {% else %}
        {{
          Img.content(obj.img)
        }}
      {% endif %} #}

      {% if obj.content %}
        <div class="{{_contentClassName | join(" ")}}">

          <div class="{{componentClassName}}__head zaux-theme--dark1">
            <div class="{{componentClassName}}__head--title font-zaux2 pb-2">
              <h6 class="fw-bold c-typo-fs-8 c-typo-fs-lg-10">{{obj.content.title|safe}}</h6>
            </div>
            {% if obj.content.abstract %}
             <div class="{{componentClassName}}__head--abstract c-typo-style1-6 c-typo-style1-lg-8">
              <p>{{obj.content.abstract|safe}}</p>
            </div>
            {% endif %}
          </div>

        {% if obj.ctaAbsolute %}
        <div class="{{_ctaClassName | join(" ")}}">
          <a class="c-cta1 c-cta1--sm c-cta1--red" href="#" title="button title">{{obj.ctaValue|safe}}</a>
        </div>
        {% elif obj.cta100 %}
        <div class="{{_ctaClassName | join(" ")}}">
          <a class="c-cta1 c-cta1--sm c-cta1--red w-100 text-center" href="#" title="button title">{{obj.ctaValue|safe}}</a>
        </div>
        {% else %}
        <div class="{{_ctaClassName | join(" ")}}">
          <a class="c-cta1 c-cta1--sm c-cta1--red" href="#" title="button title">{{obj.ctaValue|safe}}</a>
        </div>
        {% endif %}

      </div>
        <!-- .{{componentClassName}}__cover -->
      {% endif %}

    </div>
    <!-- .{{componentClassName}}__inner -->
  </div>
  <!-- .{{componentClassName}} -->
{% endmacro %}
