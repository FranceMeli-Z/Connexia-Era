{% import 'components/img/img.njk' as Img %}

{% macro content(obj) %}

  {% set componentClassName = 'c-boxcontent' %}

  {% set configDefault = {
    "className": [],
    "innerClassName": [],
    "contentClassName": []
  }%}

  {% set obj = configDefault | overwriteMerge(obj or {}) %}

  {# Creates new arrays for manipulation) #}
  {% set _className = [componentClassName] | mergeArray(obj.className or configDefault.className) %}
  {% set _innerClassName = [componentClassName + "__inner"] | mergeArray(obj.innerClassName or configDefault.innerClassName) %}
  {% set _contentClassName = [componentClassName + "__content"] | mergeArray(obj.contentClassName or configDefault.contentClassName) %}

  {# Pushes every variation into class attribute (prepending the base class) #}
  {% for variation in ([] | mergeArray(obj.variations or configDefault.variations)) %}
    {% set _className = (_className.push(componentClassName + "--" + variation), _className) %}
  {% endfor %}

  <article class="{{_className | join(" ")}}">
    <div class="{{_innerClassName | join(" ")}}">
        <div class="{{_contentClassName | join(" ")}}">
            <div class="{{componentClassName}}__content--title font-zaux2 zaux-theme--light1 pb-3">
             <h6 class="fw-demi c-typo-fs-8 c-typo-fs-lg-10"><a href="#"> {{obj.content.title|safe}} </a></h6>
            </div>
            <div class="{{componentClassName}}__content--dc font-zaux2 fst-italic zaux-color-set1-grey1 pb-3 pb-lg-6">
              <a>{{obj.content.date|safe}} - {{obj.content.category}}</a>
            </div>
            {% if obj.webcast %}
              {% if obj.img %}
              <div class="{{componentClassName}}__content--img d-block d-lg-none">
                <a href="#">
                  {{
                    Img.content(obj.img)
                  }}
                </a>
              </div>
                {% endif %}
              <div class="{{componentClassName}}__content--webcast c-typo-style1-3">
                <div class="pb-3">
                  <span class="fw-bold">Author:</span>
                  {% for a in obj.webcast.author %}
                    <p>{{a|safe}}</p>
                  {% endfor %}
                </div>
                <div class="pb-3">
                  <span class="fw-bold">Pannelist:</span>
                  {% for a in obj.webcast.pannelist %}
                    <p>{{a|safe}}</p>
                  {% endfor %}
                </div>
                <div class="">
                  <span class="fw-bold">Moderators:</span>
                  {% for a in obj.webcast.moderators %}
                    <p>{{a|safe}}</p>
                  {% endfor %}
                </div>
              </div>
            {% endif %}
            {% if obj.text %}
            <div class="{{componentClassName}}__content--text">
              <div class="pb-2">
                <p> {{obj.text.txt|safe}}</p>
              </div>
              <div class="text-decoration-underline font-zaux2">
                <p>{{obj.text.author|safe}}</p>
              </div>
            </div>
          {% endif %}
        </div>
        {% if obj.img %}
        <div class="{{componentClassName}}__img d-none d-lg-block col-lg-4">
           <a href="#">
                {{
                  Img.content(obj.img)
                }}
              </a>
        </div>
        {% endif %}

    </div>
    <!-- .{{componentClassName}}__inner -->
  </article>
  <!-- .{{componentClassName}} -->
{% endmacro %}
